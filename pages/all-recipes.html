<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Course" />

    <link rel="stylesheet" href="/css/style.css">

    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

 
    <script src="/js/script.js" defer></script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script
    type="module"
    src="https://unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.esm.js"></script>
   <script
    nomodule=""
    src="https://unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.js"></script>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Unica+One&display=swap" rel="stylesheet">



    <title>Ricardo Nozaki Pastry Chef</title>
</head>

<body>
    <header class="header ">
        <a href="../index.html">
            <img class="logo" src="../img/base/logo/lo2.png" alt="logo" id="logo">
        </a>
      
        
        
        <nav class="main-nav">
            <ul class="main-nav-list">
                <ul class="main-nav-list">
                    <li><a class="main-nav-link" href="/index.html#aboutme"> Chef</a></li>
                    <li><a class="main-nav-link" href="/index.html#creations">Creacoes</a></li>
                    <li><a class="main-nav-link" href="/index.html#recipe">Receitas</a></li>
                    <li><a class="main-nav-link" href="/index.html#ebooks">E-book</a></li>
                    <li><a class="main-nav-link" href="/pages/contato.html">Contato</a></li>
                    <li><a class="main-nav-link" href="/login.html">Login</a></li>
                    <li><a id="logout-link"  class="main-nav-link" href="#"   style="display: none;">Sair</a></li>
    
                </ul>
        </nav>
   <!-- Botão de menu hambúrguer para telas menores -->
   <button class="hamburger" aria-label="Menu" aria-expanded="false">
    <ion-icon name="menu-outline" class="icon-menu"></ion-icon>
    <ion-icon name="close-outline" class="icon-close"></ion-icon>

</button>
        
        
    </header>

   <div class="container-all-recipes">

    <div class="recipe__card" data-id="66">
        <img src="/img/pre-recipe/1733509219859.png" alt="Panetone Tradicional" class="recipe__image-all flash-effect-2">
        <p class="paragraph title-recipe">Panetone Tradicional</p>
        <p class="paragraph">Natal com Panetone fofinho!</p>
        <a href="/pages/panetone-tradicional.html" class="btn-main">Ver Receita</a>
        <h3 class="recipe__creator"><ion-icon name="person"></ion-icon> por Ricardo Nozaki</h3>
        <button class="delete-recipe-btn" data-id="66">Deletar Receita</button>
    </div>
     <div id="recipePreviewsContainer"></div>
    <div class="recipe__card" data-id="71">
        <img src="/img/pre-recipe/1733509730842.png" alt="x" class="recipe__image-all flash-effect-2">
        <p class="paragraph title-recipe">x</p>
        <p class="paragraph">x</p>
        <a href="/pages/x.html" class="btn-main">Ver Receita</a>
        <h3 class="recipe__creator"><ion-icon name="person"></ion-icon> por Ricardo Nozaki</h3>
        <button class="delete-recipe-btn" data-id="71">Deletar Receita</button>
    </div>
    <div class="recipe__card" data-id="70">
        <img src="/img/pre-recipe/1733509679457.png" alt="c" class="recipe__image-all flash-effect-2">
        <p class="paragraph title-recipe">c</p>
        <p class="paragraph">xx</p>
        <a href="/pages/c.html" class="btn-main">Ver Receita</a>
        <h3 class="recipe__creator"><ion-icon name="person"></ion-icon> por Ricardo Nozaki</h3>
        <button class="delete-recipe-btn" data-id="70">Deletar Receita</button>
    </div>
    
    <div class="recipe__card" data-id="68">
        <img src="/img/pre-recipe/1733509437353.png" alt="Ovo  Ferrero Rocher!" class="recipe__image-all flash-effect-2">
        <p class="paragraph title-recipe">Ovo  Ferrero Rocher!</p>
        <p class="paragraph">Ovo de Pascoa Caseiro!</p>
        <a href="/pages/ovo-ferrero-rocher.html" class="btn-main">Ver Receita</a>
        <h3 class="recipe__creator"><ion-icon name="person"></ion-icon> por Ricardo Nozaki</h3>
        <button class="delete-recipe-btn" data-id="68">Deletar Receita</button>
    </div>
    <div class="recipe__card" data-id="67">
        <img src="/img/pre-recipe/1733509305212.png" alt="Pizza Detroit" class="recipe__image-all flash-effect-2">
        <p class="paragraph title-recipe">Pizza Detroit</p>
        <p class="paragraph">Pizza com frescor da Italia.</p>
        <a href="/pages/pizza-detroit.html" class="btn-main">Ver Receita</a>
        <h3 class="recipe__creator"><ion-icon name="person"></ion-icon> por Ricardo Nozaki</h3>
        <button class="delete-recipe-btn" data-id="67">Deletar Receita</button>
    </div>
    <div class="recipe__card" data-id="66">
        <img src="/img/pre-recipe/1733509219859.png" alt="Panetone Tradicional" class="recipe__image-all flash-effect-2">
        <p class="paragraph title-recipe">Panetone Tradicional</p>
        <p class="paragraph">Natal com Panetone fofinho!</p>
        <a href="/pages/panetone-tradicional.html" class="btn-main">Ver Receita</a>
        <h3 class="recipe__creator"><ion-icon name="person"></ion-icon> por Ricardo Nozaki</h3>
        <button class="delete-recipe-btn" data-id="66">Deletar Receita</button>
    </div>
    <div class="recipe__card" data-id="65">
        <img src="/img/pre-recipe/1733509139695.png" alt="Tiramisu" class="recipe__image-all flash-effect-2">
        <p class="paragraph title-recipe">Tiramisu</p>
        <p class="paragraph">Delícia de Tiramisu Original!</p>
        <a href="/pages/tiramisu.html" class="btn-main">Ver Receita</a>
        <h3 class="recipe__creator"><ion-icon name="person"></ion-icon> por Ricardo Nozaki</h3>
        <button class="delete-recipe-btn" data-id="65">Deletar Receita</button>
    </div>
    <div class="recipe__card" data-id="64">
        <img src="/img/pre-recipe/1733509045892.png" alt="Brigadeiro Gourmet Crocante" class="recipe__image-all flash-effect-2">
        <p class="paragraph title-recipe">Brigadeiro Gourmet Crocante</p>
        <p class="paragraph">Crocante Brigadeiro com Nozes!</p>
        <a href="/pages/brigadeiro-gourmet-crocante.html" class="btn-main">Ver Receita</a>
        <h3 class="recipe__creator"><ion-icon name="person"></ion-icon> por Ricardo Nozaki</h3>
        <button class="delete-recipe-btn" data-id="64">Deletar Receita</button>
    </div>
    
    
    
    
    
    
    
    
    
    
    


   </div>
   
   <div class="form-section" style="display: none;">
    <h2>Adicionar Receita</h2>
    <form id="combinedRecipeForm">
        <!-- Formulário de Prévia de Receita -->
        <div class="form-group">
            <label for="recipeImage">Imagem da Receita:</label>
            <input type="file" id="recipeImage" name="recipeImage" accept="image/*" required>

            <label for="recipeTitle">Título da Receita:</label>
            <input type="text" id="recipeTitle" name="recipeTitle" required>

            <label for="recipeDescription">Descrição:</label>
            <textarea id="recipeDescription" name="recipeDescription" rows="4" required></textarea>
        </div>

        <!-- Formulário Completo de Receita -->
        <div class="form-group">
            <label for="ingredients">Ingredientes:</label>
            <textarea id="ingredients" name="ingredients" rows="4" placeholder="Digite os ingredientes aqui um por linha..." required></textarea>

            <label for="preparation">Modo de Preparo:</label>
            <textarea id="preparation" name="preparation" rows="6" placeholder="Descreva o modo de preparo sem pular linhas..." required></textarea>
        </div>

        <button type="submit">Adicionar e Publicar Receita</button>
    </form>
</div>

    
    <footer class="footer">
        <div class="grid-5cols">
            <div class="logo-col">
                <a href="../index.html">
                    <img src="../img/base/logo/lo2.png" alt="logo" class="logo">
                </a>
            </div>
            <div class="address-col">
                <p class="footer-heading">Contate-nos</p>
                <a class="footer-link" href="mailto:elitecakes@br.com"><ion-icon name="mail"></ion-icon> ricardonozaki@gmail.com</a>
            </div>
            <div class="address-col">
                <p class="footer-heading">Links Úteis</p>
                <ul>
                    <li><a class="footer-link" href="#recipe">Receitas</a></li>
                    <li><a class="footer-link" href="#ebooks">E-books</a></li>
                    <li><a class="footer-link" href="#contact">Contato</a></li>
                </ul>
            </div>
            <div class="social-links">
                <p class="footer-heading">Siga-me:</p>
                <ul class="social-media-footer">
                    <li><a href="https://www.instagram.com/andreahcodes/" target="_blank" class="icon"><ion-icon name="logo-instagram"></ion-icon></a></li>
                    <li><a href="https://www.linkedin.com/in/andreahcodes/" target="_blank" class="icon"><ion-icon name="logo-facebook"></ion-icon></a></li>
                </ul>
            </div>
        </div>
        <p class="copyright">&copy; 2023 Ricardo Nozaki. Todos os direitos reservados. Site por <a href="https://andreanozaki.com/">AN Sites</a></p>
    </footer>
    <script src="/js/cookie-banner.js" defer></script>
  
    <script>
      document.addEventListener('DOMContentLoaded', function() {


    const formSection = document.querySelector('.form-section');

    if (!formSection) {
        console.error('Elemento .form-section não encontrado');
        return;
    }

    const isChefLoggedIn = localStorage.getItem('isChefLoggedIn') === 'true' &&
                           localStorage.getItem('loggedInEmail') === 'chefadmin@gmail.com';

    if (isChefLoggedIn) {
        formSection.style.display = 'block';
    } else {
        formSection.style.display = 'none';
    }

    
    //funcao para add receitas.
    const combinedRecipeForm = document.getElementById('combinedRecipeForm');

    if (combinedRecipeForm) {
        combinedRecipeForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const formData = new FormData(combinedRecipeForm);

            fetch('http://localhost:3001/add-complete-recipe', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Receita completa publicada com sucesso!');
                    window.location.href = data.link;
                } else {
                    alert(data.message);
                }
            })
            .catch(error => {
                console.error('Erro:', error);
                alert('Erro ao adicionar a receita. Tente novamente.');
            });
        });
    }
});

  const deleteButtons = document.querySelectorAll('.delete-recipe-btn'); // Selecione todos os botões de deletar
  const loggedInEmail = localStorage.getItem('loggedInEmail');

  // Ocultar os botões de deletar se o usuário logado não for o chef
  deleteButtons.forEach((button) => {
    if (loggedInEmail !== 'chefadmin@gmail.com') {
      button.style.display = 'none';
    } else {
      button.style.display = 'inline-block'; // Mostra para o chef
    }
  });


    </script>
    
</body>
</html>
          
       
         